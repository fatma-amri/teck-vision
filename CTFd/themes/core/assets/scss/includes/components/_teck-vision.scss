/* Teck-Vision Custom Theme
   Rouge Coral + Bleu Nuit Design
-------------------------------------------------- */

// Variables personnalisées
$tv-primary: #ff6b6b;
$tv-primary-light: #ff8e8e;
$tv-primary-dark: #e55555;
$tv-secondary: #4ecdc4;
$tv-background: #1a1a2e;
$tv-background-light: #252542;
$tv-background-card: #2a2a4a;
$tv-text: #e8e8e8;
$tv-text-muted: #a0a0b8;
$tv-success: #00ff88;
$tv-gradient: linear-gradient(135deg, $tv-primary 0%, #ff8e53 100%);

// Mode sombre forcé avec couleurs Teck-Vision
[data-bs-theme="dark"],
body {
  --bs-body-bg: #{$tv-background};
  --bs-body-color: #{$tv-text};
  --bs-primary: #{$tv-primary};
  --bs-primary-rgb: 255, 107, 107;
  --bs-link-color: #{$tv-primary};
  --bs-link-hover-color: #{$tv-primary-light};
}

// Body avec dégradé animé subtil
body {
  background: $tv-background !important;
  background-image: 
    radial-gradient(ellipse at top left, rgba($tv-primary, 0.08) 0%, transparent 50%),
    radial-gradient(ellipse at bottom right, rgba($tv-secondary, 0.05) 0%, transparent 50%) !important;
  min-height: 100vh;
  color: $tv-text !important;
}

// Navbar stylisée
.navbar {
  background: rgba($tv-background, 0.95) !important;
  backdrop-filter: blur(10px);
  border-bottom: 1px solid rgba($tv-primary, 0.3);
  box-shadow: 0 4px 30px rgba(0, 0, 0, 0.4);
  
  .navbar-brand {
    font-weight: 700;
    letter-spacing: 2px;
    display: flex;
    align-items: center;
    
    .brand-text {
      font-size: 1.4rem;
      font-weight: 800;
      letter-spacing: 1px;
    }
    
    .brand-teck {
      background: $tv-gradient;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    .brand-vision {
      background: linear-gradient(135deg, $tv-secondary 0%, #44a08d 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    &:hover {
      .brand-teck, .brand-vision {
        filter: brightness(1.2);
      }
    }
  }
  
  .nav-link {
    color: $tv-text-muted !important;
    transition: all 0.3s ease;
    position: relative;
    
    &:hover, &.active {
      color: $tv-primary !important;
    }
    
    &::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 50%;
      width: 0;
      height: 2px;
      background: $tv-gradient;
      transition: all 0.3s ease;
      transform: translateX(-50%);
    }
    
    &:hover::after, &.active::after {
      width: 80%;
    }
  }
}

// Cards stylisées
.card {
  background: $tv-background-card !important;
  border: 1px solid rgba($tv-primary, 0.15) !important;
  border-radius: 12px !important;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
  transition: all 0.3s ease;
  
  &:hover {
    transform: translateY(-4px);
    border-color: rgba($tv-primary, 0.4) !important;
    box-shadow: 0 12px 40px rgba($tv-primary, 0.15);
  }
  
  .card-header {
    background: rgba($tv-primary, 0.1) !important;
    border-bottom: 1px solid rgba($tv-primary, 0.2) !important;
  }
  
  .card-body {
    color: $tv-text;
  }
}

// Boutons
.btn-primary {
  background: $tv-gradient !important;
  border: none !important;
  box-shadow: 0 4px 15px rgba($tv-primary, 0.4);
  transition: all 0.3s ease;
  
  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 25px rgba($tv-primary, 0.5);
  }
  
  &:active {
    transform: translateY(0);
  }
}

.btn-outline-primary {
  border-color: $tv-primary !important;
  color: $tv-primary !important;
  
  &:hover {
    background: $tv-primary !important;
    color: white !important;
  }
}

.btn-secondary {
  background: $tv-background-light !important;
  border: 1px solid rgba($tv-text-muted, 0.3) !important;
  color: $tv-text !important;
  
  &:hover {
    background: $tv-background-card !important;
    border-color: $tv-primary !important;
  }
}

// Challenge buttons - Creative card design
.challenge-button {
  background: linear-gradient(145deg, $tv-background-card 0%, darken($tv-background-card, 3%) 100%) !important;
  border: 1px solid rgba($tv-primary, 0.2) !important;
  border-radius: 12px !important;
  transition: all 0.25s ease;
  position: relative;
  overflow: hidden;
  
  // Subtle top accent
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: linear-gradient(90deg, $tv-primary, $tv-secondary);
    opacity: 0;
    transition: opacity 0.25s ease;
  }
  
  .challenge-inner {
    p {
      font-weight: 600;
      color: $tv-text;
      margin-bottom: 0.5rem;
    }
    
    span {
      font-size: 1.1rem;
      font-weight: 700;
      color: $tv-secondary;
    }
  }
  
  &:hover {
    border-color: rgba($tv-primary, 0.5) !important;
    transform: translateY(-3px);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    
    &::before {
      opacity: 1;
    }
  }
  
  &.challenge-solved {
    background: linear-gradient(145deg, rgba($tv-secondary, 0.15) 0%, rgba($tv-secondary, 0.1) 100%) !important;
    border-color: rgba($tv-secondary, 0.4) !important;
    
    &::before {
      background: $tv-secondary;
      opacity: 1;
    }
    
    .challenge-inner span {
      color: $tv-secondary;
    }
    
    &:hover {
      border-color: $tv-secondary !important;
      box-shadow: 0 10px 30px rgba($tv-secondary, 0.2);
    }
  }
}

// Category headers
.category-header {
  margin-bottom: 1rem;
  padding-bottom: 0.5rem;
  border-bottom: 1px solid rgba($tv-text-muted, 0.15);
  
  h3 {
    font-size: 1.1rem;
    font-weight: 600;
    color: $tv-text;
    text-transform: uppercase;
    letter-spacing: 2px;
    margin: 0;
    display: inline-flex;
    align-items: center;
    
    &::before {
      content: '';
      display: inline-block;
      width: 4px;
      height: 1em;
      background: $tv-primary;
      margin-right: 0.75rem;
      border-radius: 2px;
    }
  }
}

// Forms
.form-control, .form-select {
  background: $tv-background-light !important;
  border: 1px solid rgba($tv-text-muted, 0.2) !important;
  color: $tv-text !important;
  border-radius: 8px !important;
  
  &:focus {
    border-color: $tv-primary !important;
    box-shadow: 0 0 0 3px rgba($tv-primary, 0.2) !important;
  }
  
  &::placeholder {
    color: $tv-text-muted !important;
  }
}

// Tables
.table {
  color: $tv-text !important;
  
  thead {
    background: rgba($tv-primary, 0.1);
    
    th {
      border-bottom: 2px solid $tv-primary !important;
      color: $tv-primary !important;
    }
  }
  
  tbody tr {
    transition: all 0.2s ease;
    
    &:hover {
      background: rgba($tv-primary, 0.08) !important;
    }
  }
  
  td, th {
    border-color: rgba($tv-text-muted, 0.15) !important;
  }
}

// Scoreboard
.scoreboard-top {
  background: $tv-gradient;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

// Badges
.badge {
  &.bg-primary {
    background: $tv-gradient !important;
  }
  
  &.bg-success {
    background: linear-gradient(135deg, #00c853, #00e676) !important;
  }
}

// Footer
.footer {
  background: $tv-background !important;
  border-top: 1px solid rgba($tv-primary, 0.2);
  
  .text-muted {
    color: $tv-text-muted !important;
  }
}

// Modals
.modal-content {
  background: $tv-background-card !important;
  border: 1px solid rgba($tv-primary, 0.3) !important;
  border-radius: 16px !important;
  
  .modal-header {
    border-bottom: 1px solid rgba($tv-primary, 0.2) !important;
    
    .modal-title {
      color: $tv-primary;
    }
  }
  
  .modal-footer {
    border-top: 1px solid rgba($tv-primary, 0.2) !important;
  }
  
  .btn-close {
    filter: invert(1);
  }
}

// Alerts
.alert {
  border-radius: 10px !important;
  border: none !important;
  
  &.alert-success {
    background: rgba($tv-success, 0.15) !important;
    color: $tv-success !important;
    border-left: 4px solid $tv-success !important;
  }
  
  &.alert-danger {
    background: rgba($tv-primary, 0.15) !important;
    color: $tv-primary-light !important;
    border-left: 4px solid $tv-primary !important;
  }
  
  &.alert-warning {
    background: rgba(#ffd93d, 0.15) !important;
    color: #ffd93d !important;
    border-left: 4px solid #ffd93d !important;
  }
  
  &.alert-info {
    background: rgba($tv-secondary, 0.15) !important;
    color: $tv-secondary !important;
    border-left: 4px solid $tv-secondary !important;
  }
}

// Scrollbar personnalisée
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: $tv-background;
}

::-webkit-scrollbar-thumb {
  background: $tv-primary;
  border-radius: 4px;
  
  &:hover {
    background: $tv-primary-light;
  }
}

// Selection
::selection {
  background: rgba($tv-primary, 0.4);
  color: white;
}

// Links
a:not(.btn):not(.nav-link) {
  color: $tv-primary;
  
  &:hover {
    color: $tv-primary-light;
  }
}

// Dropdown menus
.dropdown-menu {
  background: $tv-background-card !important;
  border: 1px solid rgba($tv-primary, 0.2) !important;
  border-radius: 10px !important;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.4);
  
  .dropdown-item {
    color: $tv-text !important;
    transition: all 0.2s ease;
    
    &:hover {
      background: rgba($tv-primary, 0.15) !important;
      color: $tv-primary !important;
    }
  }
  
  .dropdown-divider {
    border-color: rgba($tv-text-muted, 0.15) !important;
  }
}

// Pagination
.pagination {
  .page-link {
    background: $tv-background-light !important;
    border-color: rgba($tv-primary, 0.2) !important;
    color: $tv-text !important;
    
    &:hover {
      background: rgba($tv-primary, 0.2) !important;
      color: $tv-primary !important;
    }
  }
  
  .page-item.active .page-link {
    background: $tv-gradient !important;
    border-color: $tv-primary !important;
  }
}

// Progress bars
.progress {
  background: $tv-background-light !important;
  border-radius: 10px !important;
  
  .progress-bar {
    background: $tv-gradient !important;
  }
}

// Code blocks
pre, code {
  background: $tv-background !important;
  border: 1px solid rgba($tv-primary, 0.2) !important;
  color: $tv-secondary !important;
  border-radius: 6px !important;
}

// Setup page styles
.nav-pills {
  .nav-link {
    color: $tv-text-muted !important;
    border-radius: 8px;
    padding: 0.8rem 1.2rem;
    transition: all 0.3s ease;
    
    &:hover {
      color: $tv-primary !important;
      background: rgba($tv-primary, 0.1) !important;
    }
    
    &.active {
      background: $tv-gradient !important;
      color: white !important;
      box-shadow: 0 4px 15px rgba($tv-primary, 0.4);
    }
  }
}

// Input labels
label, .form-label {
  color: $tv-text !important;
  font-weight: 500;
}

// Small text/hints
.form-text, small {
  color: $tv-text-muted !important;
}

// Improved list styles
ul li {
  color: $tv-text-muted;
}

// Toast/Snackbar improvements
.snackbar {
  background: $tv-background-card !important;
  border: 1px solid rgba($tv-primary, 0.3) !important;
  border-radius: 12px !important;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5) !important;
}

// Settings cards
.settings-card {
  background: $tv-background-card;
  border: 1px solid rgba($tv-primary, 0.15);
  border-radius: 12px;
  padding: 1.5rem;
  margin-bottom: 1rem;
  transition: all 0.3s ease;
  
  &:hover {
    border-color: rgba($tv-primary, 0.3);
  }
}

// Tab content
.tab-content {
  background: rgba($tv-background-card, 0.5);
  border-radius: 12px;
  padding: 2rem;
  margin-top: 1rem;
}

// Form check/radio buttons
.form-check-input {
  background-color: $tv-background-light !important;
  border-color: rgba($tv-text-muted, 0.3) !important;
  
  &:checked {
    background-color: $tv-primary !important;
    border-color: $tv-primary !important;
  }
  
  &:focus {
    box-shadow: 0 0 0 3px rgba($tv-primary, 0.25) !important;
  }
}

// Empty state messages - Clean and minimal
.min-vh-25, .min-vh-50 {
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 200px !important;
  
  h3 {
    color: #6a6a8a !important;
    font-weight: 400;
    font-size: 1.1rem;
    text-align: center;
  }
}

// Profile badges - Refined
.badge.bg-primary {
  background: $tv-primary !important;
  font-weight: 500;
}

.badge.bg-secondary {
  background: rgba($tv-secondary, 0.15) !important;
  color: $tv-secondary !important;
  font-weight: 500;
}

.badge.rounded-pill {
  font-size: 0.75rem;
  padding: 0.3rem 0.6rem;
}

// Horizontal rule
hr {
  border-color: rgba($tv-text-muted, 0.2) !important;
  opacity: 1;
  margin: 1rem 0;
}

// Container spacing
.container {
  padding-top: 1.5rem;
  padding-bottom: 1.5rem;
}

// Spinner styling
.fa-spin.spinner, .fa-circle-notch {
  color: $tv-primary !important;
}

// Progress bars
.progress {
  background: rgba($tv-background-light, 0.8) !important;
  border-radius: 8px !important;
  height: 8px;
  
  .progress-bar {
    border-radius: 8px !important;
  }
}

// Graphs container
#score-graph {
  min-height: 300px;
  padding: 1rem 0;
}
